#!/bin/env bash
#
# If any system package files are added (i.e., something like dot_config/packages/fedora)
# add the file has to this line like so:
# fedora-base hash: {{ include "private_dot_config/packages/fedora-base" | sha256sum }}
# fedora-gui hash: {{ include "private_dot_config/packages/fedora-gui" | sha256sum }}
# arch-base hash: {{ include "private_dot_config/packages/arch-base" | sha256sum }}
# arch-apps hash: {{ include "private_dot_config/packages/arch-apps" | sha256sum }}
# arch-dependencies hash: {{ include "private_dot_config/packages/arch-dependencies" | sha256sum }}
# arch-kde hash: {{ include "private_dot_config/packages/arch-kde" | sha256sum }}

{{ if eq .chezmoi.os "linux" -}}
    echo "Future Linux work"
    {{ if eq .osid "linux-nobara" -}}
    echo "Nobara Linux"
    sudo dnf install -y $(cat .config/packages/fedora-base)
    sudo dnf install -y $(cat .config/packages/fedora-gui)
    sudo dnf install -y $(cat .config/packages/fedora-gaming)
    {{ end -}}
    {{ if eq .osid "linux-fedora" -}}
    echo "Fedora Linux"
    sudo dnf install -y $(cat .config/packages/fedora-base)
    sudo dnf install -y $(cat .config/packages/fedora-gui)
    {{ end -}}
    {{ if eq .osid "linux-arch" -}}
    echo "Arch Linux"
    yay -Suy --needed - < .config/packages/arch-base
    yay -Suy --needed - < .config/packages/arch-dependencies
    yay -Suy --needed - < .config/packages/arch-apps
    yay -Suy --needed - < .config/packages/arch-kde
    {{ end -}}
{{ else if eq .chezmoi.os "darwin" -}}
    echo "Future Darwin work"
{{ end -}}
